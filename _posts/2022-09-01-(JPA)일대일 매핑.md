---
title: (JPA)일대일 매핑
author: geombong
date: 2022-09-01 23:40:00 +0900
modified: 2022-09-01 23:40:00 +0900
categories: [JPA]
tags: [JPA]
pin: false
---

# 연관관계 매핑(일대일)
- 주 테이블이나 대상 테이블 중에 왜래 키 선택 가능
	- 주 테이블에 외래 키
	- 대상 테이블에 왜래 키
- 왜래 키에 데이터베이스 유니크 제약조건 추가

## 일대일 객체 연관관계(단방향)

### Locker
```java
@Entity
public class Locker {
	@Id
	@GeneratedValue
	private Long id;
	private String name;
}
```

### Member
```java
@Entity
public class Member {
	...
	
	@OnetoOne
	@JoinColumn(name = "locker_id") // 안넣어 줘도 기본값으로 셋팅되나 기본값이 매우 지저분 하기 때문에 넣어주는게 좋다.
	private Locker locker;
	
	...
}
```

## 일대일 객체 연관관계(양방향)

### Locker
```java
@Entity
public class Locker {
	@Id
	@GeneratedValue
	private Long id;
	private String name;

	@OnetoOne(mappedBy = "locker")
	private Member member;
}
```

### Member
```java
@Entity
public class Member {
	...
	
	@OnetoOne
	@JoinColumn(name = "locker_id") // 안넣어 줘도 기본값으로 셋팅되나 기본값이 매우 지저분 하기 때문에 넣어주는게 좋다.
	private Locker locker;
	
	...
}
```
- `다대일 양방향`이랑 유사하다.
- `다대일 양방향` 매핑 처럼 외래 키가 있는 곳이 연관관계 주인
- 반대편은 `mappedBy` 적용
- 대상 테이블에 외래 키가 있는 단방향 관계는 JPA 에서 지원하지 않는다.

---

### REFERENCE

- [자바 ORM 표준 JPA 프로그래밍 - 기본편](https://www.inflearn.com/course/ORM-JPA-Basic/dashboard)

---

#JPA_일대일 #연관관계_매핑